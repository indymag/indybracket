<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project[
	<!ENTITY IncludeLocations SYSTEM "file:build.locations">
]>

<project name="net.indybracket.bracket" default="compile" basedir=".">

&IncludeLocations;

<!-- Set Classpath -->
<path id="project.class.path">
  <fileset dir="webapp\WEB-INF\lib">
    <include name="**/*.jar"/>
  </fileset>
</path>

<target name="war" depends="jar">		
 <war destfile="dist/tourney.war" webxml="webapp\WEB-INF\web.xml">
 	<lib dir="${bin}" includes="*.jar"/>
    <fileset dir="webapp">
	 <exclude name="**/web.xml"/> 	
   	</fileset>
 </war>
</target>

<target name="prepare">
	<delete dir="${bin}"/>
	<delete dir="dist"/>
	<mkdir dir="${bin}"/>
	<mkdir dir="${dist}"/>
</target>
	
<target name="jar" depends="compile">
	<jar jarfile="${bin}/bracket.jar" basedir="bin" />	
</target>
	
<target name="compile" depends="prepare">
	<javac srcdir="${src}" destdir="${bin}" debug="true">
	   <classpath refid="project.class.path"/>
	</javac>
</target>

</project>
